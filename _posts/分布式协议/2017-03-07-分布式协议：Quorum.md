---
categories:
  - Technology
tags:
  - 分布式协议
excerpt: 概述：通过读写数量的限制(W + R > N, W>N/2)来达到数据一致性的目的
---

# 概况

1. 用处：数据冗余，最终一致性
2. 本质：W(写)+R(读)>N(份数)

# 详述
N个节点对外提供服务，为了保证数据的一致性，也就是N份数据一致，最常见的一种方式：___写操作写完N份数据，读操作读取任意一份数据___,适用于写少读多的情景
>Read很轻松，Write压力山大

Quorum机制就是一种不用更新全部数据，但又能保证返回给用户的是有效数据的解决方案

1. 抽屉原理：n+1个东西放n个抽屉里，至少一个抽屉里包含2个
2. 读写均衡：N份数据，写入k个之后就提前提供读服务，但是至少要读取 N-k+1 个数据，这样必定有1个包含了最新的数据(版本控制)，剩下的 N-k 个数据后台会慢慢更新，但是对读是透明的了

上面的第2条就是Quorum的核心思想，如果分布式系统中的每一份数据被赋予一票，总共N票，写操作需要的最小票数为W，读操作需要的最小票数为R，则有以下要求：
* W + R > N
* W > N/2

第一条保证了同一个数据不允许被同时读写，第二条保证了同一个数据不能同时被两个写请求修改

通过调整NRW三个的数值来对应不同的应用场景